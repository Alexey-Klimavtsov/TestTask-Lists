{"mappings":"AEAO,SAAS,EAAc,EAAM,KAAK,CAAE,EAAY,EAAE,EACxD,IAAM,EAAO,SAAS,aAAa,CAAC,UAE/B,EAAU,IAAI,KACf,EAAU,QAAQ,CAAC,KACtB,EAAK,SAAS,CAAG,EAEjB,EAAK,SAAS,CAAC,GAAG,CAAC,IAJU,CAQ/B,CCXA,MAAM,EAAc,CACnB,CAAE,GAAI,GAAI,MAAO,QAAS,EAC1B,CAAE,GAAI,GAAI,MAAO,WAAY,EAC7B,CAAE,GAAI,GAAI,MAAO,WAAY,EAC7B,CAAE,GAAI,GAAI,MAAO,QAAS,EAC1B,CAAE,GAAI,GAAI,MAAO,OAAQ,EACzB,CAAE,GAAI,GAAI,MAAO,aAAc,EAC/B,CAAE,GAAI,GAAI,MAAO,OAAQ,EACzB,CAAE,GAAI,MAAO,MAAO,QAAS,EAC7B,CAAE,GAAI,GAAI,MAAO,SAAU,EAC3B,CAAE,GAAI,GAAI,MAAO,SAAU,EAC3B,CAAE,GAAI,GAAI,MAAO,QAAS,EAC1B,CAAE,GAAI,MAAO,MAAO,OAAQ,EAC5B,CAAE,GAAI,KAAM,MAAO,SAAU,EAC7B,CAAE,GAAI,MAAO,MAAO,SAAU,EAC9B,CAAE,GAAI,IAAK,MAAO,iBAAkB,EACpC,CAAE,GAAI,MAAO,MAAO,UAAW,EAC/B,CAAE,GAAI,GAAI,MAAO,UAAW,EAC5B,CAAE,GAAI,MAAO,MAAO,KAAM,EAC1B,CAAE,GAAI,GAAI,MAAO,SAAU,EAC3B,CAEK,EAAa,CAClB,OAAQ,SACR,IAAK,KACN,IAGO,oBACE,YFpBH,EAAkB,AAAA,EAAc,MAAO,QACvC,EAAe,AAAA,EAAc,MAAO,QACpC,EAAO,SAAS,cAAc,CAAC,QACrC,IAAI,EAAc,EAAE,CACpB,MAAM,EAAiB,AAAA,EAAY,GAAG,CAAC,CAAC,CAAA,GAAE,CAAE,CAAE,GAAK,EAAG,QAAQ,IAY9D,SAAS,EAAW,CAAS,CAAE,EAAO,EAAE,CAAE,CAAW,GACpD,AAAA,SCb4B,CAAI,EAChC,EAAK,eAAe,EACrB,EDWc,GACb,IAAM,EAAY,AAAA,EAAc,MAIhC,GAHA,EAAU,WAAW,CAAG,EACxB,EAAY,MAAM,CAAC,GAEf,AAAgB,IAAhB,EAAK,MAAM,CAAQ,CACtB,IAAM,EAAW,AAAA,EAAc,IAC/B,CAAA,EAAS,WAAW,CAAG,oBACvB,EAAY,MAAM,CAAC,GACnB,MACD,CAEA,IAAM,EAAW,AAAA,EAAc,KAAM,QAC/B,EAAmB,EAAK,GAAG,CAAC,AAAC,IAClC,GAAM,CAAA,MAAE,CAAK,CAAE,CAAG,AAAA,EAAY,IAAI,CAAC,AAAC,GAAS,EAAK,EAAE,EAAI,GAClD,EAAS,AAAA,EAAc,KAAM,cAC7B,EAAY,AAAA,EAAc,QAAS,QACzC,CAAA,EAAU,WAAW,CAAG,EACxB,IAAM,EAAe,AAAA,EAAc,SACnC,EAAa,YAAY,CAAC,OAAQ,YAClC,EAAa,YAAY,CAAC,KAAM,GAChC,IAAM,EAAY,EAAY,QAAQ,CAAC,GAWvC,OAVA,EAAa,OAAO,CAAG,EACvB,EAAa,gBAAgB,CAAC,SAAU,AAAC,IAExC,AAaH,CAAA,SAAuB,CAAS,CAAE,CAAK,EACtC,OAAQ,GACP,KAAK,AAAA,EAAW,GAAG,CAClB,EAAY,IAAI,CAAC,GACjB,KACD,MAAK,AAAA,EAAW,MAAM,CACrB,EAAc,EAAY,MAAM,CAAC,AAAC,GAAO,IAAO,EAIlD,CACD,CAAA,EAzBqB,EAAE,MAAM,CAAC,OAAO,CAAG,AAAA,EAAW,GAAG,CAAG,AAAA,EAAW,MAAM,CAC9C,EAAE,MAAM,CAAC,EAAE,EACpC,AAAA,WC7BF,IAAM,EAAY,YAAY,IAAI,CAAC,IACnC,CAAA,OAAO,QAAQ,CAAC,IAAI,CAAG,CACxB,ID4BG,IAA8B,EAAa,GAC3C,IAA4B,EAAgB,EAC7C,GACA,EAAU,OAAO,CAAC,GAClB,EAAO,MAAM,CAAC,GACP,CACR,GAEA,EAAS,MAAM,IAAI,GACnB,EAAY,MAAM,CAAC,EACpB,EAjDA,AAEA,SAAiB,CAAQ,EACxB,IAAM,EAAM,AAAA,EAAc,UAAW,OACrC,EAAK,MAAM,CAAC,GACZ,EAAc,AAAA,WCDd,IAAM,EAAY,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GACjD,OAAO,EAAY,EAAU,KAAK,CAAC,KAAO,EAAE,AAC7C,IDAC,IAA4B,EAAgB,GAC5C,IAA8B,EAAa,GAC3C,EAAI,MAAM,CAAC,EAAc,EAC1B,EATQ","sources":["<anon>","index.js","helpers.js","constants.js"],"sourcesContent":["function $278b34025398d038$export$c8a8987d4410bf2d(teg = \"div\", elemClass = \"\") {\n    const elem = document.createElement(teg);\n    if (!elemClass.trim()) return elem;\n    if (elemClass.includes(\" \")) elem.className = elemClass;\n    else elem.classList.add(elemClass);\n    return elem;\n}\nfunction $278b34025398d038$export$ab7fb727631fa5ef(elem) {\n    elem.replaceChildren();\n}\nfunction $278b34025398d038$export$2780c353914dca4e() {\n    const idsString = window.location.hash.substring(1);\n    return idsString ? idsString.split(\",\") : [];\n}\nfunction $278b34025398d038$export$468bc07728835ac4() {\n    const idsString = favoriteIds.join(\",\");\n    window.location.hash = idsString;\n}\n\n\nconst $aeb17f64c343e87d$export$c457b37a14a0b5e4 = [\n    {\n        id: 28,\n        genre: \"Action\"\n    },\n    {\n        id: 12,\n        genre: \"Adventure\"\n    },\n    {\n        id: 16,\n        genre: \"Animation\"\n    },\n    {\n        id: 35,\n        genre: \"Comedy\"\n    },\n    {\n        id: 80,\n        genre: \"Crime\"\n    },\n    {\n        id: 99,\n        genre: \"Documentary\"\n    },\n    {\n        id: 18,\n        genre: \"Drama\"\n    },\n    {\n        id: 10751,\n        genre: \"Family\"\n    },\n    {\n        id: 14,\n        genre: \"Fantasy\"\n    },\n    {\n        id: 36,\n        genre: \"History\"\n    },\n    {\n        id: 27,\n        genre: \"Horror\"\n    },\n    {\n        id: 10402,\n        genre: \"Music\"\n    },\n    {\n        id: 9648,\n        genre: \"Mystery\"\n    },\n    {\n        id: 10749,\n        genre: \"Romance\"\n    },\n    {\n        id: 878,\n        genre: \"Science Fiction\"\n    },\n    {\n        id: 10770,\n        genre: \"TV Movie\"\n    },\n    {\n        id: 53,\n        genre: \"Thriller\"\n    },\n    {\n        id: 10752,\n        genre: \"War\"\n    },\n    {\n        id: 37,\n        genre: \"Western\"\n    }\n];\nconst $aeb17f64c343e87d$export$98ff4de2f070152d = {\n    remove: \"remove\",\n    add: \"add\"\n};\nconst $aeb17f64c343e87d$export$80710d35832719dd = {\n    base: \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0439 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\",\n    second: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"\n};\n\n\nconst $dad545c909cfec2d$var$favoriteLisElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"div\", \"list\");\nconst $dad545c909cfec2d$var$baseListElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"div\", \"list\");\nconst $dad545c909cfec2d$var$root = document.getElementById(\"root\");\nlet $dad545c909cfec2d$var$favoriteIds = [];\nconst $dad545c909cfec2d$var$movieGenresIds = (0, $aeb17f64c343e87d$export$c457b37a14a0b5e4).map(({ id: id })=>id.toString());\n$dad545c909cfec2d$var$initApp($dad545c909cfec2d$var$root);\nfunction $dad545c909cfec2d$var$initApp(rootElem) {\n    const app = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"section\", \"app\");\n    $dad545c909cfec2d$var$root.append(app);\n    $dad545c909cfec2d$var$favoriteIds = (0, $278b34025398d038$export$2780c353914dca4e)();\n    $dad545c909cfec2d$var$renderList((0, $aeb17f64c343e87d$export$80710d35832719dd).base, $dad545c909cfec2d$var$movieGenresIds, $dad545c909cfec2d$var$baseListElem);\n    $dad545c909cfec2d$var$renderList((0, $aeb17f64c343e87d$export$80710d35832719dd).second, $dad545c909cfec2d$var$favoriteIds, $dad545c909cfec2d$var$favoriteLisElem);\n    app.append($dad545c909cfec2d$var$baseListElem, $dad545c909cfec2d$var$favoriteLisElem);\n}\nfunction $dad545c909cfec2d$var$renderList(titleText, list = [], rooListElem) {\n    (0, $278b34025398d038$export$ab7fb727631fa5ef)(rooListElem);\n    const titleElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"h3\");\n    titleElem.textContent = titleText;\n    rooListElem.append(titleElem);\n    if (list.length === 0) {\n        const textElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"p\");\n        textElem.textContent = \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E\";\n        rooListElem.append(textElem);\n        return;\n    }\n    const listElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"ul\", \"list\");\n    const listItemElements = list.map((id)=>{\n        const { genre: genre } = (0, $aeb17f64c343e87d$export$c457b37a14a0b5e4).find((item)=>item.id == id);\n        const liElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"li\", \"list__item\");\n        const labelElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"label\", \"label\");\n        labelElem.textContent = genre;\n        const checkBoxElem = (0, $278b34025398d038$export$c8a8987d4410bf2d)(\"input\");\n        checkBoxElem.setAttribute(\"type\", \"checkbox\");\n        checkBoxElem.setAttribute(\"id\", id);\n        const isChecked = $dad545c909cfec2d$var$favoriteIds.includes(id);\n        checkBoxElem.checked = isChecked;\n        checkBoxElem.addEventListener(\"change\", (e)=>{\n            const operation = e.target.checked ? (0, $aeb17f64c343e87d$export$98ff4de2f070152d).add : (0, $aeb17f64c343e87d$export$98ff4de2f070152d).remove;\n            $dad545c909cfec2d$var$updateStorage(operation, e.target.id);\n            (0, $278b34025398d038$export$468bc07728835ac4)();\n            $dad545c909cfec2d$var$renderList((0, $aeb17f64c343e87d$export$80710d35832719dd).second, $dad545c909cfec2d$var$favoriteIds, $dad545c909cfec2d$var$favoriteLisElem);\n            $dad545c909cfec2d$var$renderList((0, $aeb17f64c343e87d$export$80710d35832719dd).base, $dad545c909cfec2d$var$movieGenresIds, $dad545c909cfec2d$var$baseListElem);\n        });\n        labelElem.prepend(checkBoxElem);\n        liElem.append(labelElem);\n        return liElem;\n    });\n    listElem.append(...listItemElements);\n    rooListElem.append(listElem);\n}\nfunction $dad545c909cfec2d$var$updateStorage(operation, value) {\n    switch(operation){\n        case (0, $aeb17f64c343e87d$export$98ff4de2f070152d).add:\n            $dad545c909cfec2d$var$favoriteIds.push(value);\n            break;\n        case (0, $aeb17f64c343e87d$export$98ff4de2f070152d).remove:\n            $dad545c909cfec2d$var$favoriteIds = $dad545c909cfec2d$var$favoriteIds.filter((id)=>id !== value);\n            break;\n        default:\n            break;\n    }\n}\n\n\n//# sourceMappingURL=index.3374eff1.js.map\n","import {\r\n\tcreateElement,\r\n\tclearElement,\r\n\tgetIdsFromLink,\r\n\tupdateLink,\r\n} from './helpers';\r\nimport { movieGenres, OPERATIONS } from './constants';\r\nimport { titleTexts } from './constants';\r\n\r\nconst favoriteLisElem = createElement('div', 'list');\r\nconst baseListElem = createElement('div', 'list');\r\nconst root = document.getElementById('root');\r\nlet favoriteIds = [];\r\nconst movieGenresIds = movieGenres.map(({ id }) => id.toString());\r\ninitApp(root);\r\n\r\nfunction initApp(rootElem) {\r\n\tconst app = createElement('section', 'app');\r\n\troot.append(app);\r\n\tfavoriteIds = getIdsFromLink();\r\n\trenderList(titleTexts.base, movieGenresIds, baseListElem);\r\n\trenderList(titleTexts.second, favoriteIds, favoriteLisElem);\r\n\tapp.append(baseListElem, favoriteLisElem);\r\n}\r\n\r\nfunction renderList(titleText, list = [], rooListElem) {\r\n\tclearElement(rooListElem);\r\n\tconst titleElem = createElement('h3');\r\n\ttitleElem.textContent = titleText;\r\n\trooListElem.append(titleElem);\r\n\r\n\tif (list.length === 0) {\r\n\t\tconst textElem = createElement('p');\r\n\t\ttextElem.textContent = 'Ничего не выбрано';\r\n\t\trooListElem.append(textElem);\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst listElem = createElement('ul', 'list');\r\n\tconst listItemElements = list.map((id) => {\r\n\t\tconst { genre } = movieGenres.find((item) => item.id == id);\r\n\t\tconst liElem = createElement('li', 'list__item');\r\n\t\tconst labelElem = createElement('label', 'label');\r\n\t\tlabelElem.textContent = genre;\r\n\t\tconst checkBoxElem = createElement('input');\r\n\t\tcheckBoxElem.setAttribute('type', 'checkbox');\r\n\t\tcheckBoxElem.setAttribute('id', id);\r\n\t\tconst isChecked = favoriteIds.includes(id);\r\n\t\tcheckBoxElem.checked = isChecked;\r\n\t\tcheckBoxElem.addEventListener('change', (e) => {\r\n\t\t\tconst operation = e.target.checked ? OPERATIONS.add : OPERATIONS.remove;\r\n\t\t\tupdateStorage(operation, e.target.id);\r\n\t\t\tupdateLink();\r\n\t\t\trenderList(titleTexts.second, favoriteIds, favoriteLisElem);\r\n\t\t\trenderList(titleTexts.base, movieGenresIds, baseListElem);\r\n\t\t});\r\n\t\tlabelElem.prepend(checkBoxElem);\r\n\t\tliElem.append(labelElem);\r\n\t\treturn liElem;\r\n\t});\r\n\r\n\tlistElem.append(...listItemElements);\r\n\trooListElem.append(listElem);\r\n}\r\nfunction updateStorage(operation, value) {\r\n\tswitch (operation) {\r\n\t\tcase OPERATIONS.add:\r\n\t\t\tfavoriteIds.push(value);\r\n\t\t\tbreak;\r\n\t\tcase OPERATIONS.remove:\r\n\t\t\tfavoriteIds = favoriteIds.filter((id) => id !== value);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n","export function createElement(teg = 'div', elemClass = '') {\r\n\tconst elem = document.createElement(teg);\r\n\r\n\tif (!elemClass.trim()) return elem;\r\n\tif (elemClass.includes(' ')) {\r\n\t\telem.className = elemClass;\r\n\t} else {\r\n\t\telem.classList.add(elemClass);\r\n\t}\r\n\r\n\treturn elem;\r\n}\r\n\r\nexport function clearElement(elem) {\r\n\telem.replaceChildren();\r\n}\r\n\r\nexport function getIdsFromLink() {\r\n\tconst idsString = window.location.hash.substring(1);\r\n\treturn idsString ? idsString.split(',') : [];\r\n}\r\n\r\nexport function updateLink() {\r\n\tconst idsString = favoriteIds.join(',');\r\n\twindow.location.hash = idsString;\r\n}\r\n","const movieGenres = [\r\n\t{ id: 28, genre: 'Action' },\r\n\t{ id: 12, genre: 'Adventure' },\r\n\t{ id: 16, genre: 'Animation' },\r\n\t{ id: 35, genre: 'Comedy' },\r\n\t{ id: 80, genre: 'Crime' },\r\n\t{ id: 99, genre: 'Documentary' },\r\n\t{ id: 18, genre: 'Drama' },\r\n\t{ id: 10751, genre: 'Family' },\r\n\t{ id: 14, genre: 'Fantasy' },\r\n\t{ id: 36, genre: 'History' },\r\n\t{ id: 27, genre: 'Horror' },\r\n\t{ id: 10402, genre: 'Music' },\r\n\t{ id: 9648, genre: 'Mystery' },\r\n\t{ id: 10749, genre: 'Romance' },\r\n\t{ id: 878, genre: 'Science Fiction' },\r\n\t{ id: 10770, genre: 'TV Movie' },\r\n\t{ id: 53, genre: 'Thriller' },\r\n\t{ id: 10752, genre: 'War' },\r\n\t{ id: 37, genre: 'Western' },\r\n];\r\n\r\nconst OPERATIONS = {\r\n\tremove: 'remove',\r\n\tadd: 'add',\r\n};\r\n\r\nconst titleTexts = {\r\n\tbase: 'Основной список',\r\n\tsecond: 'Избранное',\r\n};\r\n\r\nexport { movieGenres, OPERATIONS,titleTexts };\r\n"],"names":["$278b34025398d038$export$c8a8987d4410bf2d","teg","elemClass","elem","document","createElement","trim","includes","className","classList","add","$aeb17f64c343e87d$export$c457b37a14a0b5e4","id","genre","$aeb17f64c343e87d$export$98ff4de2f070152d","remove","$dad545c909cfec2d$var$favoriteLisElem","$dad545c909cfec2d$var$baseListElem","$dad545c909cfec2d$var$root","getElementById","$dad545c909cfec2d$var$favoriteIds","$dad545c909cfec2d$var$movieGenresIds","map","toString","$dad545c909cfec2d$var$renderList","titleText","list","rooListElem","replaceChildren","titleElem","textContent","append","length","textElem","listElem","listItemElements","find","item","liElem","labelElem","checkBoxElem","setAttribute","isChecked","checked","addEventListener","e","$dad545c909cfec2d$var$updateStorage","operation","value","push","filter","target","idsString","favoriteIds","join","window","location","hash","prepend","$dad545c909cfec2d$var$initApp","rootElem","app","substring","split"],"version":3,"file":"index.3374eff1.js.map"}